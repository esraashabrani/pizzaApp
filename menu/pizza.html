<!DOCTYPE html>
<html>
<head>
	<title>Pizza</title>
	<link rel="stylesheet" type="text/css" href="itemStyle.css">
</head>
<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript" src ="script.js"></script>
    <script type="text/javascript">
    	$(document).ready(function(){
        var $body = $('body');
        $body.html('');
    	
    	var index = pizza.length - 1;
          var x = " "
         while(index >= 0){
          var item = pizza[index];
          var $item = $('<div class="starters" id="myDiv"></div>');
          var link=$('<br><input type="checkbox" id='+ index +' value="pizzaOrder" name="pizza"><label for="pizza"> Order </label><label> Qty </label><input type="number" min ="0" id='+ (index+10) +'>')
          

         
          x = item.name + " ....................... "+ item.price + " JD  " 
          
          $item.text(x);
          $item.appendTo($body);
          $($item).append(link);
          
          index -= 1;
        }
        
      
        $("#4").click(function(){
          var quantity =document.getElementById("14").value
          if(quantity===""){
            alert("Please select the quantity before Order")
            return false;
          }
            pizzaOrder.push({
              name : pizza[4]['name'],
              price : pizza[4]['price'],
              qty : quantity
            })
          })
         $("#3").click(function(){
          var quantity = document.getElementById('13').value
            if(quantity===""){
            alert("Please select the quantity before Order")
            return false;
          }
            pizzaOrder.push({
              name : pizza[3]['name'],
              price : pizza[3]['price'],
              qty : quantity
            })


          })
         $("#2").click(function(){
          var quantity = document.getElementById('12').value
            if(quantity===""){
            alert("Please select the quantity before Order")
            return false;
          }
            pizzaOrder.push({
              name : pizza[2]['name'],
              price : pizza[2]['price'],
              qty : quantity
            })
            

          })
          $("#1").click(function(){
          var quantity = document.getElementById('11').value
            if(quantity===""){
            alert("Please select the quantity before Order")
            return false;
          }
            pizzaOrder.push({
              name : pizza[1]['name'],
              price : pizza[1]['price'],
              qty : quantity
            })
         

          })

        $("#0").click(function(){
          var quantity = document.getElementById('10').value
            if(quantity===""){
            alert("Please select the quantity before Order")
            return false;
          }
            pizzaOrder.push({
              name : pizza[0]['name'],
              price : pizza[0]['price'],
              qty : quantity
            })


          })
           var $button = $('<button id="save" width="500px">save</button>');
          $button.appendTo($body);
          function each(coll, f) {
             if (Array.isArray(coll)) { 
            for (var i = 0; i < coll.length; i++) { 
               f(coll[i], i); //it will be called for each element
           } 
          } else { 
           for (var key in coll) { 
            f(coll[key], key); 
             } 
           } 
         }
             function reduce(array, f, start) {
              var acc = start;
              each(array, function(element) {
                acc = f(acc, element);
              });
              return acc;
            }

             var total = reduce(pizzaOrder,function(result,ele){
                       return result + ele['price']
                 },0)
          $('#save').click(function(){
                
                 alert("successfull");
          })
    });
    </script>
</body>
</html>