<!DOCTYPE html>
<html>
<head>
	<title>Drinks</title>
	<link rel="stylesheet" type="text/css" href="itemStyle.css">
</head>
<body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript" src ="script.js"></script>
    <script type="text/javascript">
    	$(document).ready(function(){
        var $body = $('body');
        $body.html('');
    	
    	var index = drinks.length - 1;
          var x = " "
         while(index >= 0){
          var drink = drinks[index];
          var $drink = $('<div class="drinks" id="myDiv"></div>');
          var link=$('<br><input type="checkbox" id='+ index +' value="drinksOrder" name="pepsi"><label for="pepsi"> Order </label><label> Qty </label><input type="number" min ="0" id='+ (index+10) +'>')


          x = drink.name + " ....................... " + drink.price + " JD   " 
          
          $drink.text(x);
          $drink.appendTo($body);
          $($drink).append(link);
   
          index -= 1;
        }

        
         $("#3").click(function(){
          var quantity = document.getElementById('13').value
            if(quantity===""){
            alert("Please select the quantity before Order")
            return false;
          }
            drinksOrder.push({
              name : drinks[3]['name'],
              price : drinks[3]['price'],
              qty : quantity
            })
           
          })
         $("#2").click(function(){
          var quantity = document.getElementById('12').value
            if(quantity===""){
            alert("Please select the quantity before Order")
            return false;
          }
            pizzaOrder.push({
              name : drinks[2]['name'],
              price : drinks[2]['price'],
              qty : quantity
            })
           
          })
          $("#1").click(function(){
          var quantity = document.getElementById('11').value
            if(quantity===""){
            alert("Please select the quantity before Order")
            return false;
          }
            drinksOrder.push({
              name : drinks[1]['name'],
              price : drinks[1]['price'],
              qty : quantity
            })
            
          })

        $("#0").click(function(){
          var quantity = document.getElementById('10').value
            if(quantity===""){
            alert("Please select the quantity before Order")
            return false;
          }
            drinksOrder.push({
              name : drinks[0]['name'],
              price :drinks[0]['price'],
              qty : quantity
            })
            
          })
        var $button = $('<button id="save" width="500px">save</button>');
          $button.appendTo($body);
          function each(coll, f) {
             if (Array.isArray(coll)) { 
            for (var i = 0; i < coll.length; i++) { 
               f(coll[i], i); //it will be called for each element
           } 
          } else { 
           for (var key in coll) { 
            f(coll[key], key); 
             } 
           } 
         }
             function reduce(array, f, start) {
              var acc = start;
              each(array, function(element) {
                acc = f(acc, element);
              });
              return acc;
            }

             var total = reduce(drinksOrder,function(result,ele){
                       return result + ele['price']
                 },0)
          $('#save').click(function(){
                
                 alert("successfull");
          })
       
    });
    
    </script>
</body>
</html>